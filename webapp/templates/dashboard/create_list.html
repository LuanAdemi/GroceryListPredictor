{% extends "dashboard/base.html" %}
{% block body %}
<link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"
  />
<div class="w3-row" style="height: 89%;">
    <div class="w3-half w3-container empty-list" style="height: 90%;">
      <div style="border-radius: 20px;box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);height: 100%;width: 100%;">
        <form method="POST" action="" enctype="multipart/form-data" style="margin-right:10px; margin-left:10px;padding-top:20px;padding-bottom:20px">
          <div class="w3-row">
            <div class="w3-container w3-twothird">
              <input type="text" placeholder="List name" autocomplete="off" style="height: 60px;font-size: 20px;" name="list-name">
            </div>
            <div class="w3-container w3-third">
              <input class="greenSubmit" type="submit" name="create-list" style="height: 60px;font-size: 20px;" value="Create list">
            </div>
          </div>
      </form>
      <form action="" method="post">
        <ul class="list-group" id="myGroceryList" style="overflow: auto;">
          {% for product in grocery_list[:(grocery_list |length)-1] %}
              <li class="list-group-item">
                <div class="w3-row" style="height: 100%;">
                  <div class="w3-container w3-twothird">
                    <h2 style="line-height: 50px;">{{product}}</h2>
                  </div>
                  <div class="w3-container w3-third">
                    <input class="redSubmit" type="submit" name="Remove-{{product}}" value="Remove">
                  </div>
                </div>
              </li>
          {%endfor%}
          {% for product in grocery_list[((grocery_list |length)-1):] %}
          <li class="list-group-item animate__animated animate__slideInLeft">
            <div class="w3-row" style="height: 100%;">
              <div class="w3-container w3-twothird">
                <h2 style="line-height: 50px;">{{product}}</h2>
              </div>
              <div class="w3-container w3-third">
                <input class="redSubmit" type="submit" name="Remove-{{product}}" value="Remove">
              </div>
            </div>
          </li>
          {%endfor%}
        </ul>
      </form>
      </div>

    </div>
    <div class="w3-half w3-container" style="display: flex;align-items: center;justify-content: center;height: 80%;">
        <div style="height: 100%;width: 100%;">
            <form action="" method="post" style="height: 66%;">
              <input style="height: 60px;font-size: 20px;" autocomplete="off" class="form-control" id="listSearch" type="text" placeholder="Type something to search list items">
              <br>
              
              <ul id="myList" style="height: 100%;columns: 3;overflow: auto">
                {% for product in products %}
                    <li style="width: 100%;"><input type="submit" name="{{product}}" value="{{product}}"></li>
                {%endfor%}
              </ul>

            </form>
            <h3 style="margin-top:130px;">Product not found? Add it manually:</h3>
            <form action="" method="post" style="height: 100%;">
              <input style="height: 60px;font-size: 20px;" autocomplete="off" class="form-control" name="add-manually" type="text" placeholder="Add items manually">
              <input type="submit" name="manual-adding" value="Add item"></li>
            </form>
        </div>
    </div>
</div>


<script>
$(document).ready(function(){
  $("#listSearch").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myList li input").filter(function() {
      $(this).toggle($(this).val().toLowerCase().indexOf(value) > -1)
    });
  });
});
</script>
{% endblock body %}

